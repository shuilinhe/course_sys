{"remainingRequest":"D:\\code\\zhuanyezonghesheji\\Combine_4\\Combine_1\\course_sys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\zhuanyezonghesheji\\Combine_4\\Combine_1\\course_sys\\src\\views\\SupervisorView\\Supervisor.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\zhuanyezonghesheji\\Combine_4\\Combine_1\\course_sys\\src\\views\\SupervisorView\\Supervisor.vue","mtime":1670768330000},{"path":"D:\\code\\zhuanyezonghesheji\\Combine_4\\Combine_1\\course_sys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667012054000},{"path":"D:\\code\\zhuanyezonghesheji\\Combine_4\\Combine_1\\course_sys\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1667012054000},{"path":"D:\\code\\zhuanyezonghesheji\\Combine_4\\Combine_1\\course_sys\\node_modules\\babel-loader\\lib\\index.js","mtime":1667012056000},{"path":"D:\\code\\zhuanyezonghesheji\\Combine_4\\Combine_1\\course_sys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667012054000},{"path":"D:\\code\\zhuanyezonghesheji\\Combine_4\\Combine_1\\course_sys\\node_modules\\vue-loader\\lib\\index.js","mtime":1667012058000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBhZ2U6IDEsDQogICAgICBsaW1pdDogOSwNCiAgICAgIGlkOiAiIiwNCiAgICAgIHF1ZXJ5SW5mbzogew0KICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgbWFqb3I6ICIiLA0KICAgICAgfSwNCiAgICAgIHN1cGVydmlzb3JsaXN0OiBbXSwNCiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwNCiAgICAgIHVwZGF0ZURpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgYWRkRGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICBzdXBlcnZpc29yRm9ybTogew0KICAgICAgICBqb2JOdW1iZXI6ICIiLA0KICAgICAgICBtYWpvcjogIiIsDQogICAgICAgIG5hbWU6ICIiLA0KICAgICAgICByZW1hcms6ICIiLA0KICAgICAgICBjYW1wdXM6ICIiLA0KICAgICAgICBzZXJpYWxOdW1iZXI6ICIiLA0KICAgICAgfSwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgc3VwZXJ2aXNvcl9ydWxlczogew0KICAgICAgICBzZXJpYWxOdW1iZXI6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5bqP5Y+3IiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgIF0sDQogICAgICAgIGpvYk51bWJlcjogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXnnaPlr7znmoTlt6Xlj7ciLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCiAgICAgICAgbmFtZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXnnaPlr7znmoTlp5PlkI0iLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCiAgICAgICAgbWFqb3I6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl552j5a+855qE5LiT5LiaIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgIF0sDQogICAgICAgIHJlbWFyazogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXlpIfms6giLCB0cmlnZ2VyOiAiYmx1ciIgfV0sDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgLy/liJ3lp4vljJbnnaPlr7zliJfooagNCiAgICB0aGlzLmdldFN1cGVydmlzb3JMaXN0KHRoaXMucGFnZSwgdGhpcy5saW1pdCwgdGhpcy5xdWVyeUluZm8pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy/lip/og70x77ya5pCc57Si552j5a+85L+h5oGvDQogICAgYXN5bmMgc2VhcmNoKHBhZ2UsIGxpbWl0KSB7DQogICAgICBwYWdlID0gMTsNCiAgICAgIGxpbWl0ID0gdGhpcy5saW1pdDsNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoDQogICAgICAgIGAvYXBpL3N1cGVydmlzZS9saXN0LyR7cGFnZX0vJHtsaW1pdH1gLA0KICAgICAgICB0aGlzLnF1ZXJ5SW5mbw0KICAgICAgKTsNCiAgICAgIHRoaXMuc3VwZXJ2aXNvcmxpc3QgPSByZXMuZGF0YS5yb3dzOw0KICAgICAgdGhpcy5oYW5kbGVDdXJyZW50Q2hhbmdlKCk7DQogICAgfSwNCiAgICAvL+a3u+WKoOedo+WvvOS/oeaBr+ihqOWNlemqjOivgQ0KICAgIGFzeW5jIGRvQWRkKGpvYk51bWJlcikgew0KICAgICAgLy/mj5DkuqTmt7vliqDor7fmsYLliY3lhYjmo4Dmn6Ui5bel5Y+3IuaYr+WQpuWtmOWcqA0KICAgICAgam9iTnVtYmVyID0gdGhpcy5zdXBlcnZpc29yRm9ybS5qb2JOdW1iZXI7DQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoYC9hcGkvc3VwZXJ2aXNlL2V4aXN0c2AsIHsNCiAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgam9iTnVtYmVyOiBqb2JOdW1iZXIsDQogICAgICAgIH0sDQogICAgICB9KTsNCiAgICAgIC8vIuW3peWPtyLlrZjlnKgNCiAgICAgIGlmIChyZXMuc3VjY2VzcyA9PSBmYWxzZSkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsNCiAgICAgIH0NCiAgICAgIC8vIuW3peWPtyLkuI3lrZjlnKgNCiAgICAgIGVsc2Ugew0KICAgICAgICBhd2FpdCB0aGlzLiRyZWZzLnN1cGVydmlzb3JGb3JtDQogICAgICAgICAgLnZhbGlkYXRlKCkNCiAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICB0aGlzLkFkZFN1cGVydmlzb3IoKTsNCiAgICAgICAgICAgIHRoaXMuc3VwZXJ2aXNvckZvcm0gPSB0aGlzLiRvcHRpb25zLmRhdGEoKS5zdXBlcnZpc29yRm9ybTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+35aGr5YaZ5a6M5pW055qE5L+h5oGvIik7DQogICAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICAvL+WKn+iDvTLvvJrmt7vliqDnnaPlr7zkv6Hmga8NCiAgICBhc3luYyBBZGRTdXBlcnZpc29yKCkgew0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgNCiAgICAgICAgYC9hcGkvc3VwZXJ2aXNlL2AsDQogICAgICAgIHRoaXMuc3VwZXJ2aXNvckZvcm0NCiAgICAgICk7DQogICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSk7DQogICAgICAgIHRoaXMuZ2V0U3VwZXJ2aXNvckxpc3QodGhpcy5wYWdlLCB0aGlzLmxpbWl0LCB0aGlzLnF1ZXJ5SW5mbyk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5L+u5pS5552j5a+85L+h5oGv6KGo5Y2V6aqM6K+BDQogICAgYXN5bmMgZG9VcGRhdGUoKSB7DQogICAgICBhd2FpdCB0aGlzLiRyZWZzLnN1cGVydmlzb3JGb3JtDQogICAgICAgIC52YWxpZGF0ZSgpDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLlVwZGF0ZVN1cGVydmlzb3IoKTsNCiAgICAgICAgICB0aGlzLnN1cGVydmlzb3JGb3JtID0gdGhpcy4kb3B0aW9ucy5kYXRhKCkuc3VwZXJ2aXNvckZvcm07DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fmo4Dmn6XnnaPlr7zkv6Hmga/vvIEiKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICAvL+WKn+iDvTPvvJrkv67mlLnnnaPlr7zkv6Hmga8NCiAgICBhc3luYyBVcGRhdGVTdXBlcnZpc29yKGlkKSB7DQogICAgICBpZCA9IHRoaXMuaWQ7DQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wdXQoDQogICAgICAgIGAvYXBpL3N1cGVydmlzZS8ke2lkfWAsDQogICAgICAgIHRoaXMuc3VwZXJ2aXNvckZvcm0NCiAgICAgICk7DQogICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgdGhpcy51cGRhdGVEaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgICAgIHRoaXMuZ2V0U3VwZXJ2aXNvckxpc3QodGhpcy5wYWdlLCB0aGlzLmxpbWl0LCB0aGlzLnF1ZXJ5SW5mbyk7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5bGV56S65L+u5pS55L+h5oGv5a+56K+d5qGGDQogICAgc2hvd0VkaXRWaWV3KGRhdGEpIHsNCiAgICAgIHRoaXMuc3VwZXJ2aXNvckZvcm0gPSBkYXRhOw0KICAgICAgdGhpcy51cGRhdGVEaWFsb2dWaXNpYmxlID0gdHJ1ZTsNCiAgICAgIHRoaXMuaWQgPSBkYXRhLmlkOw0KICAgIH0sDQogICAgLy/lip/og70077ya5Y2V5p2h5pWZ5biI5L+h5oGv5Yig6ZmkDQogICAgYXN5bmMgaGFuZGxlRGVsZXRlKGluZGV4LCBkYXRhKSB7DQogICAgICB0aGlzLmluZGV4ID0gaW5kZXg7DQogICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gYXdhaXQgdGhpcy4kY29uZmlybSgNCiAgICAgICAgIuatpOaTjeS9nOWwhuawuOS5heWIoOmZpCBbICIgKyBkYXRhLm5hbWUgKyAiIF0g6ICB5biI5L+h5oGvLCDmmK/lkKbnu6fnu60/IiwNCiAgICAgICAgIuaPkOekuiIsDQogICAgICAgIHsNCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsDQogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICAgIGNlbnRlcjogdHJ1ZSwNCiAgICAgICAgfQ0KICAgICAgKS5jYXRjaCgoZXJyKSA9PiBlcnIpOw0KICAgICAgaWYgKGNvbmZpcm1SZXN1bHQgIT09ICJjb25maXJtIikgew0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5pbmZvKCLlt7Llj5bmtogiKTsNCiAgICAgIH0NCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmRlbGV0ZSgNCiAgICAgICAgYC9hcGkvc3VwZXJ2aXNlLyR7ZGF0YS5pZH1gDQogICAgICApOw0KICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSk7DQogICAgICAgIHRoaXMuZ2V0U3VwZXJ2aXNvckxpc3QodGhpcy5wYWdlLCB0aGlzLmxpbWl0LCB0aGlzLnF1ZXJ5SW5mbyk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v6I635Y+W5YWo6YOo552j5a+85L+h5oGvDQogICAgYXN5bmMgZ2V0U3VwZXJ2aXNvckxpc3QocGFnZSA9IDEsIGxpbWl0LCBxdWVyeUluZm8pIHsNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoDQogICAgICAgIGAvYXBpL3N1cGVydmlzZS9saXN0LyR7cGFnZX0vJHtsaW1pdH1gLA0KICAgICAgICBxdWVyeUluZm8NCiAgICAgICk7DQogICAgICB0aGlzLnN1cGVydmlzb3JsaXN0ID0gcmVzLmRhdGEucm93czsNCiAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsNCiAgICB9LA0KICAgIC8v5Yi35pawDQogICAgcmVsb2FkKCkgew0KICAgICAgbG9jYXRpb24ucmVsb2FkKCk7DQogICAgfSwNCiAgICAvL+a4heepuuaVsOaNrg0KICAgIGNhbmNlbFVwZGF0ZSgpIHsNCiAgICAgIHRoaXMudXBkYXRlRGlhbG9nVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgdGhpcy5zdXBlcnZpc29yRm9ybSA9IHRoaXMuJG9wdGlvbnMuZGF0YSgpLnN1cGVydmlzb3JGb3JtOw0KICAgIH0sDQogICAgY2FuY2VsQWRkKCkgew0KICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgICB0aGlzLnN1cGVydmlzb3JGb3JtID0gdGhpcy4kb3B0aW9ucy5kYXRhKCkuc3VwZXJ2aXNvckZvcm07DQogICAgfSwNCiAgICAvL+iOt+WPluWkjemAieahhuihjA0KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWw7DQogICAgfSwNCiAgICAvL+WIhumhteWZqOi3s+i9rA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLnBhZ2UgPSB2YWw7DQogICAgICB0aGlzLmdldFN1cGVydmlzb3JMaXN0KHRoaXMucGFnZSwgdGhpcy5saW1pdCwgdGhpcy5xdWVyeUluZm8pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Supervisor.vue"],"names":[],"mappings":";AAiNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Supervisor.vue","sourceRoot":"src/views/SupervisorView","sourcesContent":["<template>\r\n  <div>\r\n    <el-card class=\"box-card\" style=\"height: 762px\">\r\n      <div class=\"top\">\r\n        <el-input\r\n          placeholder=\"请输入督导姓名\"\r\n          class=\"search-inp\"\r\n          v-model=\"queryInfo.name\"\r\n          style=\"width: 220px\"\r\n          clearable\r\n        />\r\n        <el-input\r\n          placeholder=\"请输入督导专业\"\r\n          class=\"search-inp\"\r\n          v-model=\"queryInfo.major\"\r\n          style=\"width: 220px\"\r\n          clearable\r\n        />\r\n        <el-button\r\n          icon=\"el-icon-search\"\r\n          type=\"primary\"\r\n          class=\"search_btn\"\r\n          @click=\"search\"\r\n          >搜索</el-button\r\n        >\r\n        <el-button\r\n          type=\"primary\"\r\n          class=\"add_btn\"\r\n          @click=\"addDialogVisible = true\"\r\n          ><i class=\"el-icon-plus\" id=\"add_img\"></i>添加</el-button\r\n        >\r\n        <el-button plain class=\"refresh_btn\" @click=\"reload\"\r\n          ><i class=\"el-icon-refresh-right\" id=\"refresh_img\"></i>刷新</el-button\r\n        >\r\n      </div>\r\n\r\n      <el-table\r\n        class=\"s_table\"\r\n        :data=\"supervisorlist\"\r\n        border\r\n        resizable=\"true\"\r\n        style=\"width: 100%\"\r\n        height=\"600px\"\r\n      >\r\n        <el-table-column\r\n          fixed\r\n          type=\"selection\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"id\"\r\n          label=\"编号\"\r\n          align=\"center\"\r\n          v-if=\"false\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          fixed\r\n          prop=\"serialNumber\"\r\n          label=\"序号\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n\r\n        <el-table-column\r\n          prop=\"jobNumber\"\r\n          label=\"工号\"\r\n          align=\"center\"\r\n          width=\"200\"\r\n        >\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"name\" label=\"姓名\" align=\"center\" width=\"200\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"major\" label=\"专业\" align=\"center\" width=\"200\">\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"campus\" label=\"校区\" align=\"center\" width=\"200\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"remark\" label=\"备注\" align=\"center\" width=\"200\">\r\n        </el-table-column>\r\n\r\n        <el-table-column\r\n          label=\"操作\"\r\n          fixed=\"right\"\r\n          align=\"center\"\r\n          width=\"200px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              type=\"primary\"\r\n              @click=\"showEditView(scope.row)\"\r\n              >修改</el-button\r\n            >\r\n            <el-button\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\"\r\n              >删除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <div class=\"block\">\r\n        <el-pagination\r\n          @current-change=\"handleCurrentChange\"\r\n          :page-size=\"limit\"\r\n          :current-page=\"page\"\r\n          layout=\"total,prev, pager, next\"\r\n          :total=\"total\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n      <el-dialog\r\n        title=\"修改督导信息\"\r\n        :visible.sync=\"updateDialogVisible\"\r\n        width=\"30%\"\r\n      >\r\n        <el-form\r\n          :rules=\"supervisor_rules\"\r\n          :model=\"supervisorForm\"\r\n          ref=\"supervisorForm\"\r\n          label-width=\"60px\"\r\n        >\r\n          <el-form-item prop=\"serialNumber\" label=\"序号:\">\r\n            <el-input v-model=\"supervisorForm.serialNumber\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item prop=\"jobNumber\" label=\"工号:\">\r\n            <el-input v-model=\"supervisorForm.jobNumber\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item prop=\"name\" label=\"姓名:\">\r\n            <el-input v-model=\"supervisorForm.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"major\" label=\"专业:\">\r\n            <el-input v-model=\"supervisorForm.major\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"campus\" label=\"校区:\">\r\n            <el-input\r\n              v-model=\"supervisorForm.campus\"\r\n              class=\"addSuperInput\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"remark\" label=\"备注:\">\r\n            <el-input v-model=\"supervisorForm.remark\"></el-input>\r\n          </el-form-item>\r\n          <el-button @click=\"cancelUpdate\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"doUpdate\">确 定</el-button>\r\n        </el-form>\r\n      </el-dialog>\r\n\r\n      <el-dialog title=\"添加督导\" :visible.sync=\"addDialogVisible\" width=\"30%\">\r\n        <el-form\r\n          :rules=\"supervisor_rules\"\r\n          :model=\"supervisorForm\"\r\n          ref=\"supervisorForm\"\r\n          label-width=\"60px\"\r\n          size=\"medium\"\r\n        >\r\n          <el-form-item prop=\"serialNumber\" label=\"序号:\">\r\n            <el-input\r\n              v-model=\"supervisorForm.serialNumber\"\r\n              class=\"addSuperInput\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item prop=\"jobNumber\" label=\"工号:\">\r\n            <el-input\r\n              v-model=\"supervisorForm.jobNumber\"\r\n              class=\"addSuperInput\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item prop=\"name\" label=\"姓名:\">\r\n            <el-input\r\n              v-model=\"supervisorForm.name\"\r\n              class=\"addSuperInput\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"major\" label=\"专业:\">\r\n            <el-input\r\n              v-model=\"supervisorForm.major\"\r\n              class=\"addSuperInput\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"campus\" label=\"校区:\">\r\n            <el-input\r\n              v-model=\"supervisorForm.campus\"\r\n              class=\"addSuperInput\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"remark\" label=\"备注:\">\r\n            <el-input\r\n              v-model=\"supervisorForm.remark\"\r\n              class=\"addSuperInput\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-button @click=\"cancelAdd\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"doAdd\">确 定</el-button>\r\n        </el-form>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      limit: 9,\r\n      id: \"\",\r\n      queryInfo: {\r\n        name: \"\",\r\n        major: \"\",\r\n      },\r\n      supervisorlist: [],\r\n      multipleSelection: [],\r\n      updateDialogVisible: false,\r\n      addDialogVisible: false,\r\n      supervisorForm: {\r\n        jobNumber: \"\",\r\n        major: \"\",\r\n        name: \"\",\r\n        remark: \"\",\r\n        campus: \"\",\r\n        serialNumber: \"\",\r\n      },\r\n      total: 0,\r\n      supervisor_rules: {\r\n        serialNumber: [\r\n          { required: true, message: \"请输入序号\", trigger: \"blur\" },\r\n        ],\r\n        jobNumber: [\r\n          { required: true, message: \"请输入督导的工号\", trigger: \"blur\" },\r\n        ],\r\n        name: [\r\n          { required: true, message: \"请输入督导的姓名\", trigger: \"blur\" },\r\n        ],\r\n        major: [\r\n          { required: true, message: \"请输入督导的专业\", trigger: \"blur\" },\r\n        ],\r\n        remark: [{ required: true, message: \"请输入备注\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    //初始化督导列表\r\n    this.getSupervisorList(this.page, this.limit, this.queryInfo);\r\n  },\r\n  methods: {\r\n    //功能1：搜索督导信息\r\n    async search(page, limit) {\r\n      page = 1;\r\n      limit = this.limit;\r\n      const { data: res } = await this.$http.post(\r\n        `/api/supervise/list/${page}/${limit}`,\r\n        this.queryInfo\r\n      );\r\n      this.supervisorlist = res.data.rows;\r\n      this.handleCurrentChange();\r\n    },\r\n    //添加督导信息表单验证\r\n    async doAdd(jobNumber) {\r\n      //提交添加请求前先检查\"工号\"是否存在\r\n      jobNumber = this.supervisorForm.jobNumber;\r\n      const { data: res } = await this.$http.get(`/api/supervise/exists`, {\r\n        params: {\r\n          jobNumber: jobNumber,\r\n        },\r\n      });\r\n      //\"工号\"存在\r\n      if (res.success == false) {\r\n        this.$message.error(res.message);\r\n      }\r\n      //\"工号\"不存在\r\n      else {\r\n        await this.$refs.supervisorForm\r\n          .validate()\r\n          .then(() => {\r\n            this.AddSupervisor();\r\n            this.supervisorForm = this.$options.data().supervisorForm;\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            this.$message.error(\"请填写完整的信息\");\r\n          });\r\n      }\r\n    },\r\n    //功能2：添加督导信息\r\n    async AddSupervisor() {\r\n      const { data: res } = await this.$http.post(\r\n        `/api/supervise/`,\r\n        this.supervisorForm\r\n      );\r\n      if (res.success) {\r\n        this.addDialogVisible = false;\r\n        this.$message.success(res.message);\r\n        this.getSupervisorList(this.page, this.limit, this.queryInfo);\r\n      } else {\r\n        this.$message.error(res.message);\r\n      }\r\n    },\r\n    //修改督导信息表单验证\r\n    async doUpdate() {\r\n      await this.$refs.supervisorForm\r\n        .validate()\r\n        .then(() => {\r\n          this.UpdateSupervisor();\r\n          this.supervisorForm = this.$options.data().supervisorForm;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.$message.error(\"请检查督导信息！\");\r\n        });\r\n    },\r\n    //功能3：修改督导信息\r\n    async UpdateSupervisor(id) {\r\n      id = this.id;\r\n      const { data: res } = await this.$http.put(\r\n        `/api/supervise/${id}`,\r\n        this.supervisorForm\r\n      );\r\n      if (res.success) {\r\n        this.updateDialogVisible = false;\r\n        this.getSupervisorList(this.page, this.limit, this.queryInfo);\r\n        this.$message.success(res.message);\r\n      } else {\r\n        this.$message.error(res.message);\r\n      }\r\n    },\r\n    //展示修改信息对话框\r\n    showEditView(data) {\r\n      this.supervisorForm = data;\r\n      this.updateDialogVisible = true;\r\n      this.id = data.id;\r\n    },\r\n    //功能4：单条教师信息删除\r\n    async handleDelete(index, data) {\r\n      this.index = index;\r\n      const confirmResult = await this.$confirm(\r\n        \"此操作将永久删除 [ \" + data.name + \" ] 老师信息, 是否继续?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n          center: true,\r\n        }\r\n      ).catch((err) => err);\r\n      if (confirmResult !== \"confirm\") {\r\n        return this.$message.info(\"已取消\");\r\n      }\r\n      const { data: res } = await this.$http.delete(\r\n        `/api/supervise/${data.id}`\r\n      );\r\n      if (res.success) {\r\n        this.$message.success(res.message);\r\n        this.getSupervisorList(this.page, this.limit, this.queryInfo);\r\n      } else {\r\n        this.$message.error(res.message);\r\n      }\r\n    },\r\n    //获取全部督导信息\r\n    async getSupervisorList(page = 1, limit, queryInfo) {\r\n      const { data: res } = await this.$http.post(\r\n        `/api/supervise/list/${page}/${limit}`,\r\n        queryInfo\r\n      );\r\n      this.supervisorlist = res.data.rows;\r\n      this.total = res.data.total;\r\n    },\r\n    //刷新\r\n    reload() {\r\n      location.reload();\r\n    },\r\n    //清空数据\r\n    cancelUpdate() {\r\n      this.updateDialogVisible = false;\r\n      this.supervisorForm = this.$options.data().supervisorForm;\r\n    },\r\n    cancelAdd() {\r\n      this.addDialogVisible = false;\r\n      this.supervisorForm = this.$options.data().supervisorForm;\r\n    },\r\n    //获取复选框行\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    //分页器跳转\r\n    handleCurrentChange(val) {\r\n      this.page = val;\r\n      this.getSupervisorList(this.page, this.limit, this.queryInfo);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.bigContainer {\r\n  height: 670px;\r\n}\r\n.el-tabel,\r\n.el-tabel-column {\r\n  line-height: 70px;\r\n  text-align: center;\r\n}\r\n.el-input {\r\n  margin-right: 10px;\r\n}\r\n.sup_tag {\r\n  font-size: 20px;\r\n}\r\n</style>\r\n"]}]}